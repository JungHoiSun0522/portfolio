<Window x:Class="Client.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Client"
       mc:Ignorable="d"
        Title="Chat Client" Height="420" Width="700"
        Background="#FFE9F2FF">
    <Window.Resources>
        <!-- 블루 계열 색상 -->
        <SolidColorBrush x:Key="DashPrimary" Color="#FF4A90E2"/>
        <!-- 메인 파랑 -->
        <SolidColorBrush x:Key="DashPrimaryDark" Color="#FF326FBA"/>
        <SolidColorBrush x:Key="DashPanel" Color="#FFFFFFFF"/>
        <SolidColorBrush x:Key="DashBorder" Color="#FFCBD6E5"/>
        <SolidColorBrush x:Key="DashText" Color="#FF2F3B52"/>

        <!-- 카드 패널용 스타일 -->
        <Style x:Key="CardBorderStyle" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource DashPanel}"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="BorderBrush" Value="{StaticResource DashBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="10"/>
        </Style>

        <!-- 버튼 스타일 -->
        <Style x:Key="DashButton" TargetType="Button">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="Padding" Value="6,2"/>
            <Setter Property="Margin" Value="0,8,0,0"/>
            <Setter Property="Background" Value="{StaticResource DashPrimary}"/>
            <Setter Property="BorderBrush" Value="{StaticResource DashPrimaryDark}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border CornerRadius="4"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              Margin="{TemplateBinding Padding}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="{StaticResource DashPrimaryDark}"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.4"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- 텍스트박스 스타일 -->
        <Style x:Key="DashTextBox" TargetType="TextBox">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Foreground" Value="{StaticResource DashText}"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="{StaticResource DashBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="6,4"/>
        </Style>

        <!-- 리스트박스 스타일 -->
        <Style x:Key="DashListBox" TargetType="ListBox">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="{StaticResource DashBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="FontSize" Value="15"/>
        </Style>
    </Window.Resources>

    <Grid Margin="12">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="160"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 왼쪽: 채팅 로그 카드 -->
        <Border Grid.Row="0" Grid.Column="0" Style="{StaticResource CardBorderStyle}">
            <ListBox x:Name="lstChat"
         ScrollViewer.HorizontalScrollBarVisibility="Disabled"
         ScrollViewer.VerticalScrollBarVisibility="Auto"
         ScrollViewer.CanContentScroll="False"
         HorizontalContentAlignment="Stretch">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}"
                       TextWrapping="Wrap"
                       FontSize="11"/>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>

        </Border>

        <!-- 오른쪽: 제어 패널 카드 -->
        <Border Grid.Row="0" Grid.Column="1"
                Margin="10,0,0,0"
                Style="{StaticResource CardBorderStyle}">
            <StackPanel>
                <TextBlock Text="연결 제어"
                           FontSize="14"
                           FontWeight="Bold"
                           Foreground="{StaticResource DashText}"/>

                <Button x:Name="btnConnect"
                        Style="{StaticResource DashButton}"
                        Content="서버 접속"
                        Click="btnConnect_Click"/>

                <Button x:Name="btnDisconnect"
                        Style="{StaticResource DashButton}"
                        Content="접속 해제"
                        Click="btnDisconnect_Click" IsEnabled="False"/>
            </StackPanel>
        </Border>

        <!-- 아래: 입력 영역 카드 -->
        <Border Grid.Row="1" Grid.ColumnSpan="2"
                Margin="0,10,0,0"
                Style="{StaticResource CardBorderStyle}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="130"/>
                </Grid.ColumnDefinitions>

                <TextBox x:Name="txtMessage"
                         Grid.Column="0"
                         Style="{StaticResource DashTextBox}"
                         Height="34" ScrollViewer.CanContentScroll="True" KeyDown="TextBox_KeyDown"/>

                <Button x:Name="btnSend"
                        Grid.Column="1"
                        Margin="10,0,0,0"
                        Height="34"
                        Style="{StaticResource DashButton}"
                        Content="전 송"
                        Click="btnSend_Click" IsEnabled="False"/>
            </Grid>
        </Border>
    </Grid>
</Window>
